import{d as k,M as A,N as $,r as t,j as h,c as f,C as M,k as s,h as _,O as R,t as y,g as V,_ as N,b as m,l as U,I,m as q,s as B,i as D}from"./index-QDArsuHU.js";const E={class:"field"},S=["type"],T=k({__name:"LoginInput",props:A({label:{},type:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(v){const r=v,u=$(v,"modelValue"),a=t(!1),n=h(()=>r.type==="password"&&a.value?"text":r.type??"text"),i=()=>a.value=!a.value;return(o,d)=>(V(),f("div",E,[M(s("input",{type:n.value,"onUpdate:modelValue":d[0]||(d[0]=c=>u.value=c),placeholder:" ",required:""},null,8,S),[[R,u.value]]),s("label",null,y(v.label),1),v.type==="password"?(V(),f("span",{key:0,class:"eye",onClick:i},y(a.value?"ðŸ‘":"ðŸ™ˆ"),1)):_("",!0)]))}}),g=N(T,[["__scopeId","data-v-7db972dd"]]),L=async()=>{},O={class:"register-body"},j={class:"nav-container"},F={class:"register-container"},H={class:"input-name"},J={key:0,class:"error"},z={key:1,class:"success"},G=["disabled"],K={class:"login-link"},Q=k({__name:"Register",setup(v){const r=t(""),u=t(""),a=t(""),n=t(""),i=t(""),o=t(""),d=t(""),c=t(!1),w=D(),C=()=>n.value!==i.value?(o.value="Passwords do not match",!1):n.value.length<8?(o.value="Password must be at least 8 characters",!1):!0,x=async()=>{if(o.value="",d.value="",console.log("1. å¼€å§‹æäº¤è¡¨å•..."),!r.value||!u.value||!a.value||!n.value||!i.value){o.value="Please fill in all fields",console.log("âŒ å­—æ®µéªŒè¯å¤±è´¥");return}if(!C()){console.log("âŒ å¯†ç éªŒè¯å¤±è´¥");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.value)){o.value="Please enter a valid email address",console.log("âŒ é‚®ç®±æ ¼å¼éªŒè¯å¤±è´¥");return}c.value=!0,console.log("2. è®¾ç½® loading = true");try{const e={first_name:r.value.trim(),last_name:u.value.trim(),email:a.value.trim(),password:n.value,confirm_password:i.value};console.log("3. å‡†å¤‡è¯·æ±‚æ•°æ®:",e),console.log("4. å¼€å§‹è°ƒç”¨ registerApi...");const b=L(e);console.log("5. Promise å·²åˆ›å»ºï¼Œç­‰å¾…å“åº”..."),b.then(p=>{console.log("âœ… then() è¢«è°ƒç”¨ï¼Œå“åº”:",p),console.log("âœ… å“åº”çŠ¶æ€:",p.status),console.log("âœ… å“åº”æ•°æ®:",p.data)}).catch(p=>{console.log("âŒ catch() è¢«è°ƒç”¨ï¼Œé”™è¯¯:",p)}).finally(()=>{console.log("ðŸ”š finally() è¢«è°ƒç”¨")});const l=await b;console.log("6. await å®Œæˆï¼Œæ”¶åˆ°å“åº”:",l),d.value="Account created successfully! Redirecting to login...",console.log("7. è®¾ç½® success æ¶ˆæ¯"),setTimeout(()=>{console.log("8. æ‰§è¡Œ setTimeout è·³è½¬"),w.push("/login")},3e3)}catch(e){console.error("âŒ try-catch æ•èŽ·é”™è¯¯:",e),console.error("âŒ é”™è¯¯ç±»åž‹:",typeof e),console.error("âŒ é”™è¯¯æ¶ˆæ¯:",e.message),console.error("âŒ é”™è¯¯æ ˆ:",e.stack),e.response?(console.error("âŒ å“åº”çŠ¶æ€:",e.response.status),console.error("âŒ å“åº”æ•°æ®:",e.response.data),o.value=`Error ${e.response.status}: ${JSON.stringify(e.response.data)}`):e.request?(console.error("âŒ æ²¡æœ‰å“åº”:",e.request),o.value="No response from server"):(console.error("âŒ å…¶ä»–é”™è¯¯:",e.message),o.value=`Error: ${e.message}`)}finally{console.log("9. è¿›å…¥ finally å—"),c.value=!1,console.log("10. è®¾ç½® loading = false")}console.log("11. submit å‡½æ•°ç»“æŸ")};return(P,e)=>{const b=U;return V(),f("div",O,[m(b),s("div",j,[s("div",{class:"nav-link",onClick:e[0]||(e[0]=()=>{})}," Home "),e[7]||(e[7]=s("p",{class:"separator"},null,-1)),e[8]||(e[8]=s("div",null,"Create Account",-1))]),s("div",F,[e[10]||(e[10]=s("h1",null,"Create Account",-1)),s("form",{class:"register-box",onSubmit:I(x,["prevent"])},[s("div",H,[m(g,{label:"First Name",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l)},null,8,["modelValue"]),m(g,{label:"Last Name",modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=l=>u.value=l)},null,8,["modelValue"])]),m(g,{label:"E-mail",modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value=l)},null,8,["modelValue"]),m(g,{label:"Password",type:"password",modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=l=>n.value=l)},null,8,["modelValue"]),m(g,{label:"Confirm Password",type:"password",modelValue:i.value,"onUpdate:modelValue":e[5]||(e[5]=l=>i.value=l)},null,8,["modelValue"]),o.value?(V(),f("p",J,y(o.value),1)):_("",!0),d.value?(V(),f("p",z,y(d.value),1)):_("",!0),s("button",{class:"register-btn",disabled:c.value},y(c.value?"Creating Account...":"Create Account"),9,G),s("p",K,[e[9]||(e[9]=q(" Already have an account? ",-1)),s("span",{onClick:e[6]||(e[6]=l=>B(w).push("/login"))},"Sign in")])],32)])])}}}),X=N(Q,[["__scopeId","data-v-18ce4fa3"]]);export{X as default};
