import{d as _,M as P,N as $,r as t,j as A,c as g,C as M,k as s,h as V,O as R,t as f,g as y,_ as w,b as m,l as U,I,m as q,s as B,i as D}from"./index-4MrWQ5yv.js";const E={class:"field"},S=["type"],T=_({__name:"LoginInput",props:P({label:{},type:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(v){const r=v,u=$(v,"modelValue"),o=t(!1),n=A(()=>r.type==="password"&&o.value?"text":r.type??"text"),i=()=>o.value=!o.value;return(l,d)=>(y(),g("div",E,[M(s("input",{type:n.value,"onUpdate:modelValue":d[0]||(d[0]=c=>u.value=c),placeholder:" ",required:""},null,8,S),[[R,u.value]]),s("label",null,f(v.label),1),v.type==="password"?(y(),g("span",{key:0,class:"eye",onClick:i},f(o.value?"ðŸ‘":"ðŸ™ˆ"),1)):V("",!0)]))}}),p=w(T,[["__scopeId","data-v-7db972dd"]]),L={class:"register-body"},h={class:"nav-container"},O={class:"register-container"},j={class:"input-name"},F={key:0,class:"error"},H={key:1,class:"success"},J=["disabled"],z={class:"login-link"},G=_({__name:"Register",setup(v){const r=t(""),u=t(""),o=t(""),n=t(""),i=t(""),l=t(""),d=t(""),c=t(!1),b=D(),k=()=>n.value!==i.value?(l.value="Passwords do not match",!1):n.value.length<8?(l.value="Password must be at least 8 characters",!1):!0,N=async()=>{if(l.value="",d.value="",console.log("1. å¼€å§‹æäº¤è¡¨å•..."),!r.value||!u.value||!o.value||!n.value||!i.value){l.value="Please fill in all fields",console.log("âŒ å­—æ®µéªŒè¯å¤±è´¥");return}if(!k()){console.log("âŒ å¯†ç éªŒè¯å¤±è´¥");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value)){l.value="Please enter a valid email address",console.log("âŒ é‚®ç®±æ ¼å¼éªŒè¯å¤±è´¥");return}c.value=!0,console.log("2. è®¾ç½® loading = true");try{const e={first_name:r.value.trim(),last_name:u.value.trim(),email:o.value.trim(),password:n.value,confirm_password:i.value};console.log("3. å‡†å¤‡è¯·æ±‚æ•°æ®:",e),console.log("4. å¼€å§‹è°ƒç”¨ registerApi..."),console.log("5. Promise å·²åˆ›å»ºï¼Œç­‰å¾…å“åº”..."),d.value="Account created successfully! Redirecting to login...",console.log("7. è®¾ç½® success æ¶ˆæ¯"),setTimeout(()=>{console.log("8. æ‰§è¡Œ setTimeout è·³è½¬"),b.push("/login")},3e3)}catch(e){console.error("âŒ try-catch æ•èŽ·é”™è¯¯:",e),console.error("âŒ é”™è¯¯ç±»åž‹:",typeof e),console.error("âŒ é”™è¯¯æ¶ˆæ¯:",e.message),console.error("âŒ é”™è¯¯æ ˆ:",e.stack),e.response?(console.error("âŒ å“åº”çŠ¶æ€:",e.response.status),console.error("âŒ å“åº”æ•°æ®:",e.response.data),l.value=`Error ${e.response.status}: ${JSON.stringify(e.response.data)}`):e.request?(console.error("âŒ æ²¡æœ‰å“åº”:",e.request),l.value="No response from server"):(console.error("âŒ å…¶ä»–é”™è¯¯:",e.message),l.value=`Error: ${e.message}`)}finally{console.log("9. è¿›å…¥ finally å—"),c.value=!1,console.log("10. è®¾ç½® loading = false")}console.log("11. submit å‡½æ•°ç»“æŸ")};return(C,e)=>{const x=U;return y(),g("div",L,[m(x),s("div",h,[s("div",{class:"nav-link",onClick:e[0]||(e[0]=()=>{})}," Home "),e[7]||(e[7]=s("p",{class:"separator"},null,-1)),e[8]||(e[8]=s("div",null,"Create Account",-1))]),s("div",O,[e[10]||(e[10]=s("h1",null,"Create Account",-1)),s("form",{class:"register-box",onSubmit:I(N,["prevent"])},[s("div",j,[m(p,{label:"First Name",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a)},null,8,["modelValue"]),m(p,{label:"Last Name",modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=a=>u.value=a)},null,8,["modelValue"])]),m(p,{label:"E-mail",modelValue:o.value,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value=a)},null,8,["modelValue"]),m(p,{label:"Password",type:"password",modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=a=>n.value=a)},null,8,["modelValue"]),m(p,{label:"Confirm Password",type:"password",modelValue:i.value,"onUpdate:modelValue":e[5]||(e[5]=a=>i.value=a)},null,8,["modelValue"]),l.value?(y(),g("p",F,f(l.value),1)):V("",!0),d.value?(y(),g("p",H,f(d.value),1)):V("",!0),s("button",{class:"register-btn",disabled:c.value},f(c.value?"Creating Account...":"Create Account"),9,J),s("p",z,[e[9]||(e[9]=q(" Already have an account? ",-1)),s("span",{onClick:e[6]||(e[6]=a=>B(b).push("/login"))},"Sign in")])],32)])])}}}),Q=w(G,[["__scopeId","data-v-7a069dac"]]);export{Q as default};
