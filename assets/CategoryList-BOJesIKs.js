import{f as V,c as k}from"./category.service.admin-PmWrCN7I.js";import{d as b,r as d,o as x,c as w,b as l,f as n,e as o,F as B,g as N,k as v,t as T,m as i}from"./index-4MrWQ5yv.js";const z=b({__name:"CategoryList",setup($){const m=d([]),a=d(!1),r=d({name:"",parent:null});async function p(){m.value=await V()}function f(u=null){r.value={name:"",parent:u},a.value=!0}async function y(){try{await k(r.value),a.value=!1,await p()}catch(u){console.error(u)}}return x(p),(u,e)=>{const s=o("el-button"),C=o("el-tree"),_=o("el-card"),c=o("el-input"),g=o("el-dialog");return N(),w(B,null,[l(_,null,{default:n(()=>[e[6]||(e[6]=v("h3",null,"产品分类管理",-1)),l(C,{data:m.value,"node-key":"id",props:{label:"name",children:"children"}},{default:n(({data:t})=>[v("span",null,T(t.name),1),l(s,{size:"small",text:"",onClick:D=>f(t.id)},{default:n(()=>[...e[4]||(e[4]=[i(" 新增子类 ",-1)])]),_:1},8,["onClick"])]),_:1},8,["data"]),l(s,{type:"primary",style:{"margin-top":"12px"},onClick:e[0]||(e[0]=t=>f(null))},{default:n(()=>[...e[5]||(e[5]=[i(" 新增一级分类 ",-1)])]),_:1})]),_:1}),l(g,{modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value=t),title:"新增分类"},{footer:n(()=>[l(s,{onClick:e[2]||(e[2]=t=>a.value=!1)},{default:n(()=>[...e[7]||(e[7]=[i("取消",-1)])]),_:1}),l(s,{type:"primary",onClick:y},{default:n(()=>[...e[8]||(e[8]=[i("保存",-1)])]),_:1})]),default:n(()=>[l(c,{modelValue:r.value.name,"onUpdate:modelValue":e[1]||(e[1]=t=>r.value.name=t),placeholder:"分类名称"},null,8,["modelValue"])]),_:1},8,["modelValue"])],64)}}});export{z as default};
