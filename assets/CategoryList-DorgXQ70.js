import{d as c,r as i,o as k,c as b,b as l,f as n,e as o,F as x,Q as w,g as B,k as v,t as N,m as d,R as T}from"./index-C0q1Y9Z0.js";const U=c({__name:"CategoryList",setup($){const m=i([]),a=i(!1),r=i({name:"",parent:null});async function p(){m.value=await w()}function f(u=null){r.value={name:"",parent:u},a.value=!0}async function y(){try{await T(r.value),a.value=!1,await p()}catch(u){console.error(u)}}return k(p),(u,e)=>{const s=o("el-button"),C=o("el-tree"),_=o("el-card"),g=o("el-input"),V=o("el-dialog");return B(),b(x,null,[l(_,null,{default:n(()=>[e[6]||(e[6]=v("h3",null,"产品分类管理",-1)),l(C,{data:m.value,"node-key":"id",props:{label:"name",children:"children"}},{default:n(({data:t})=>[v("span",null,N(t.name),1),l(s,{size:"small",text:"",onClick:D=>f(t.id)},{default:n(()=>[...e[4]||(e[4]=[d(" 新增子类 ",-1)])]),_:1},8,["onClick"])]),_:1},8,["data"]),l(s,{type:"primary",style:{"margin-top":"12px"},onClick:e[0]||(e[0]=t=>f(null))},{default:n(()=>[...e[5]||(e[5]=[d(" 新增一级分类 ",-1)])]),_:1})]),_:1}),l(V,{modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value=t),title:"新增分类"},{footer:n(()=>[l(s,{onClick:e[2]||(e[2]=t=>a.value=!1)},{default:n(()=>[...e[7]||(e[7]=[d("取消",-1)])]),_:1}),l(s,{type:"primary",onClick:y},{default:n(()=>[...e[8]||(e[8]=[d("保存",-1)])]),_:1})]),default:n(()=>[l(g,{modelValue:r.value.name,"onUpdate:modelValue":e[1]||(e[1]=t=>r.value.name=t),placeholder:"分类名称"},null,8,["modelValue"])]),_:1},8,["modelValue"])],64)}}});export{U as default};
